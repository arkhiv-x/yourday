<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>TRANSFORLOVE ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

body{
margin:0;
font-family:Arial;
background:#0a1116;
color:#dfe6e9;
text-align:center;
}

/* TELAS */

.tela{
display:none;
min-height:100vh;
padding:10px;
box-sizing:border-box;
}

.ativa{display:block}

/* BOTÃ•ES */

button{
padding:12px 22px;
border:none;
border-radius:10px;
background:#2f3e46;
color:#e0e0e0;
font-size:16px;
margin-top:12px;
border:1px solid #5a6f73;
}

/* HUD */

.hud{
background:rgba(20,30,35,0.7);
padding:8px;
border-radius:8px;
margin-bottom:6px;
font-size:13px;
color:#b8c1c8;
}

/* MAPA */

.gameBox{
width:100%;
height:82vh;
margin:6px auto;
position:relative;
overflow:hidden;
}

/* PERSONAGEM */

#mouse{
width:42px;
height:42px;
background:url("ratinho.png") center/contain no-repeat;
position:absolute;
bottom:12px;
left:50%;
transform:translateX(-50%);
}

/* OBJETIVO */

#goal{
width:36px;
height:36px;
background:url("coracao.png") center/contain no-repeat;
position:absolute;
top:10px;
left:50%;
transform:translateX(-50%);
}

/* OBSTACULOS */

.obst{
width:52px;
height:22px;
background:url("obstaculo.png") center/contain no-repeat;
position:absolute;
}

/* CONTROLES */

#controls{
display:flex;
justify-content:center;
gap:22px;
margin-top:6px;
}

.ctrl{
width:58px;
height:58px;
background:#1c262b;
border:1px solid #6c7a80;
border-radius:50%;
font-size:24px;
line-height:54px;
color:#dfe6e9;
user-select:none;
}

.ctrl:active{
background:#3b4a50;
}

</style>
</head>

<body>

<!-- INICIO -->
<div class="tela ativa" id="inicio">

<h1>ğŸ® MissÃ£o: Amor Infinito</h1>
<p>Soldado Pedro, vocÃª estÃ¡ pronto?</p>

<button onclick="irPara('fase1')">Iniciar MissÃ£o</button>

</div>

<!-- FASE 1 -->
<div class="tela" id="fase1">

<div class="hud">â¤ï¸ Vida: 100 | ğŸ’– Amor: +1000</div>

<h2>Fase 1 â€” O ComeÃ§o</h2>
<p>"Desde o primeiro momento, eu te desejo."</p>

<div class="gameBox" id="box1"
style="background:url('fundo1.png') center/cover no-repeat;">

<div id="mouse"></div>
<div id="goal"></div>

<div class="obst" style="top:160px;left:40px"></div>
<div class="obst" style="top:300px;left:220px"></div>
<div class="obst" style="top:420px;left:120px"></div>

</div>

<div id="controls">

<div class="ctrl" ontouchstart="left()">â—€</div>
<div class="ctrl" ontouchstart="up()">â–²</div>
<div class="ctrl" ontouchstart="right()">â–¶</div>

</div>

<p id="msg1"></p>

<button id="next1" style="display:none"
onclick="irPara('fase2')">PrÃ³xima MissÃ£o</button>

</div>

<!-- FASE 2 -->
<div class="tela" id="fase2">

<div class="hud">ğŸ”¥ ResistÃªncia: MAX</div>

<h2>Fase 2 â€” Juntos Ã© Mais Forte</h2>
<p>"Mesmo nos dias difÃ­ceis, vocÃª esteve aqui"</p>

<div class="gameBox" id="box2"
style="background:url('fundo2.png') center/cover no-repeat;">

<div id="mouse2"></div>
<div id="goal2"></div>

<div class="obst move" id="m1"></div>
<div class="obst move" id="m2"></div>

</div>

<div id="controls">

<div class="ctrl" ontouchstart="left2()">â—€</div>
<div class="ctrl" ontouchstart="up2()">â–²</div>
<div class="ctrl" ontouchstart="right2()">â–¶</div>

</div>

<p id="msg2"></p>

<button id="next2" style="display:none"
onclick="irPara('presente')">Continuar</button>

</div>

<!-- PRESENTE -->
<div class="tela" id="presente">

<h2>ğŸ Recompensa</h2>

<img src="oculos.jpg" style="max-width:70%">

<p>Pedro Estiloso Ativado ğŸ˜</p>
<p>âœ¨ Carisma +100</p>

<button onclick="irPara('fase3')">Continuar</button>

</div>

<!-- FINAL -->
<div class="tela" id="final">

<h1 style="color:#ff5ca8">ğŸ† MissÃ£o ConcluÃ­da</h1>

<p>Te amo pra sempre ğŸ’–</p>

</div>

<script>

/* -------- FASE 1 -------- */

let x=180,y=480;
const speed=18;
let mouse=null;

function init1(){

mouse=document.getElementById("mouse");
x=180;y=480;
update1();
}

function left(){x-=speed;update1();}
function right(){x+=speed;update1();}
function up(){y-=speed;update1();}

function update1(){

mouse.style.left=x+"px";
mouse.style.top=y+"px";

check1();
}

function check1(){

const m=mouse.getBoundingClientRect();
const g=document.getElementById("goal").getBoundingClientRect();

document.querySelectorAll("#box1 .obst").forEach(o=>{

const r=o.getBoundingClientRect();

if(hit(m,r))reset1();

});

if(m.top<g.bottom)win1();
}

function reset1(){

x=180;y=480;
document.getElementById("msg1").innerText="âŒ Tenta de novo ğŸ’–";
}

function win1(){

document.getElementById("msg1").innerText="ğŸ† ConcluÃ­do!";
document.getElementById("next1").style.display="inline-block";
}

/* -------- FASE 2 -------- */

let x2=180,y2=480;
let mouse2=null;

let dir1=1,dir2=-1;

function init2(){

mouse2=document.getElementById("mouse2");

document.getElementById("mouse2").style=
"width:42px;height:42px;background:url('ratinho.png') center/contain no-repeat;position:absolute;";

document.getElementById("goal2").style=
"width:36px;height:36px;background:url('coracao.png') center/contain no-repeat;position:absolute;top:10px;left:50%;transform:translateX(-50%);";

x2=180;y2=480;

document.getElementById("m1").style="top:200px;left:50px;";
document.getElementById("m2").style="top:350px;left:200px;";

moveObs();
update2();
}

function left2(){x2-=speed;update2();}
function right2(){x2+=speed;update2();}
function up2(){y2-=speed;update2();}

function update2(){

mouse2.style.left=x2+"px";
mouse2.style.top=y2+"px";

check2();
}

function moveObs(){

let o1=document.getElementById("m1");
let o2=document.getElementById("m2");

let p1=parseInt(o1.style.left);
let p2=parseInt(o2.style.left);

if(p1>260||p1<20)dir1*=-1;
if(p2>260||p2<20)dir2*=-1;

o1.style.left=(p1+dir1*3)+"px";
o2.style.left=(p2+dir2*2)+"px";

setTimeout(moveObs,40);
}

function check2(){

const m=mouse2.getBoundingClientRect();
const g=document.getElementById("goal2").getBoundingClientRect();

["m1","m2"].forEach(id=>{

const r=document.getElementById(id).getBoundingClientRect();

if(hit(m,r))reset2();

});

if(m.top<g.bottom)win2();
}

function reset2(){

x2=180;y2=480;
document.getElementById("msg2").innerText="âŒ Cuidado!";
}

function win2(){

document.getElementById("msg2").innerText="ğŸ† VocÃª conseguiu!";
document.getElementById("next2").style.display="inline-block";
}

/* -------- GERAL -------- */

function hit(a,b){

return(
a.right>b.left &&
a.left<b.right &&
a.bottom>b.top &&
a.top<b.bottom
);

}

function irPara(id){

document.querySelectorAll(".tela")
.forEach(t=>t.classList.remove("ativa"));

document.getElementById(id).classList.add("ativa");

if(id==="fase1")setTimeout(init1,200);
if(id==="fase2")setTimeout(init2,200);
}

</script>

</body>
</html>
